<div class="dialog-header">
    <div><h1 mat-dialog-title>Send a Message</h1></div>
    <button mat-icon-button mat-dialog-close aria-label="Close" (click)="onClose()">
      <mat-icon>close</mat-icon>
    </button>
  </div>
  
  <div mat-dialog-content>
    <div class="Form-Inputs">
        <form [formGroup]="messageForm" (ngSubmit)="onSubmit()">
            <mat-form-field appearance="fill" class="full-width">
              <mat-label>Email</mat-label>
              <input matInput formControlName="email" required />
              <mat-error *ngIf="messageForm.get('email')?.hasError('required')">Email is required</mat-error>
              <mat-error *ngIf="messageForm.get('email')?.hasError('email')">Invalid email format</mat-error>
            </mat-form-field>
        
            <mat-form-field appearance="fill" class="full-width">
              <mat-label>Message</mat-label>
              <textarea matInput formControlName="message" required></textarea>
              <mat-error *ngIf="messageForm.get('message')?.hasError('required')">Message is required</mat-error>
            </mat-form-field>
          </form>
    </div>
  </div>
  
  <div mat-dialog-actions>
    <button mat-button (click)="onClose()">Close</button>
    <button mat-button type="submit" [disabled]="messageForm.invalid" (click)="onSubmit(); isSubmitting = true">Submit</button> 
  </div>
  
  <div *ngIf="isSubmitting" class="spinner-container">
    <mat-spinner></mat-spinner>
  </div>